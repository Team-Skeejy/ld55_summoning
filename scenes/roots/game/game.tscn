[gd_scene load_steps=8 format=3 uid="uid://by36u8pjqvdg2"]

[ext_resource type="Script" path="res://scenes/roots/game/game.gd" id="1_yek46"]
[ext_resource type="PackedScene" uid="uid://c7khnlrdtspt" path="res://scenes/fade_transition/fade_transition.tscn" id="2_8k2ii"]
[ext_resource type="PackedScene" uid="uid://dum2vhk725ubd" path="res://scenes/ui_entities/ui/ui.tscn" id="2_aqm0m"]
[ext_resource type="Texture2D" uid="uid://bgk508s7yjppg" path="res://scenes/ui_entities/game/textures/background.png" id="3_ytfxc"]
[ext_resource type="PackedScene" uid="uid://p7wfifl3jsfl" path="res://scenes/characters/dude_container.tscn" id="5_pce2m"]
[ext_resource type="PackedScene" uid="uid://cl7yrn5rqmw14" path="res://scenes/ui_entities/behaviours/WaveController.tscn" id="6_j4isa"]
[ext_resource type="PackedScene" uid="uid://ckm3g6n5hhpn" path="res://scenes/ui_entities/base/ui_entity_draggable.tscn" id="8_shgoh"]

[node name="Game" type="Node2D" node_paths=PackedStringArray("ui", "dude_container", "wave_machine", "fade_transition")]
script = ExtResource("1_yek46")
interval_spawn_rate = 2.0
test_entity = ExtResource("8_shgoh")
ui = NodePath("Ui")
dude_container = NodePath("DudeContainer")
wave_machine = NodePath("WaveController")
fade_transition = NodePath("FadeTransition")

[node name="Sprite2D" type="Sprite2D" parent="."]
position = Vector2(160, 90)
texture = ExtResource("3_ytfxc")

[node name="DudeContainer" parent="." node_paths=PackedStringArray("good_home", "bad_home", "spawners") instance=ExtResource("5_pce2m")]
good_home = NodePath("Home1")
bad_home = NodePath("Home2")
spawners = [NodePath("Node2D"), NodePath("Node2D2"), NodePath("Node2D3")]

[node name="Ui" parent="." node_paths=PackedStringArray("inventory", "alter", "end", "health_label", "wave_label") instance=ExtResource("2_aqm0m")]
inventory = NodePath("Inventory")
alter = NodePath("Alter")
end = NodePath("End")
health_label = NodePath("Node/Control/Health")
wave_label = NodePath("Node/Control/Next Wave")

[node name="FadeTransition" parent="." node_paths=PackedStringArray("animationPlayer") instance=ExtResource("2_8k2ii")]
animationPlayer = NodePath("ColorRect/AnimationPlayer")

[node name="WaveController" parent="." node_paths=PackedStringArray("dude_container") instance=ExtResource("6_j4isa")]
dude_container = NodePath("../DudeContainer")
mook_interval = 10.0

[connection signal="dude_killed" from="DudeContainer" to="." method="_on_dude_container_dude_killed"]
[connection signal="house_killed" from="DudeContainer" to="." method="_on_house_killed"]
[connection signal="forfeited" from="Ui" to="." method="_on_ui_forfeited"]
[connection signal="retry" from="Ui" to="." method="_on_ui_retry"]
[connection signal="summon" from="Ui" to="." method="_on_ui_summon"]
[connection signal="boss_spawn" from="WaveController" to="." method="_on_wave_controller_boss_spawn"]
[connection signal="enemy_spawn" from="WaveController" to="." method="_on_wave_controller_enemy_spawn"]
